#!/usr/bin/env bash

sed -i 's|^Manjaro Linux|BigCommunity, based on BigLinux and Manjaro Linux|g' /etc/issue

#!/bin/sh

sed -i 's|^ *\bNAME\b *=.*|NAME="BigCommunity based on BigLinux and Manjaro Linux"|' /usr/lib/os-release
sed -i 's|^ *\bPRETTY_NAME\b *=.*|PRETTY_NAME="BigCommunity based on BigLinux and Manjaro Linux"|' /usr/lib/os-release
sed -i 's|^ *\bHOME_URL\b *=.*|HOME_URL="https://communitybig.org"|' /usr/lib/os-release
sed -i 's|^ *\bDOCUMENTATION_URL\b *=.*||' /usr/lib/os-release
sed -i 's|^ *\bSUPPORT_URL\b *=.*|SUPPORT_URL="https://t.me/BigLinuxCommunity"|' /usr/lib/os-release
sed -i 's|^ *\LOGO\b *=.*|LOGO="comm-menu"|' /usr/lib/os-release
sed -i 's|^ *\ID\b *=.*|ID="biglinux"|' /usr/lib/os-release
sed -i 's|^ *\bBUG_REPORT_URL\b *=.*|BUG_REPORT_URL="https://github.com/communitybig"|' /usr/lib/os-release
sed -i 's|^ *\bPRIVACY_POLICY_URL=.*||' /usr/lib/os-release

[[ -e /usr/lib/os-release ]] && ln -sf /usr/lib/os-release /etc/os-release

# Configuração adicional para corrigir inserções indesejadas no GRUB
#sed -i 's|^GRUB_THEME=.*|GRUB_THEME="/boot/grub/themes/community/theme.txt"|' /etc/default/grub
#sed -i 's|^GRUB_DISTRIBUTOR=.*|GRUB_DISTRIBUTOR="BigCommunity"|' /etc/default/grub

# Atualiza a configuração do GRUB, caso o comando exista
#if command -v update-grub &> /dev/null; then
#update-grub
#elif command -v grub-mkconfig &> /dev/null; then
#grub-mkconfig -o /boot/grub/grub.cfg
#fi
